2020-11-27 21:35:09.617  INFO [account-worker,,,] 24080 --- [           main] f.n.l.account.worker.MachineStatusTests  : The following profiles are active: docker
2020-11-27 21:35:10.601  INFO [account-worker,,,] 24080 --- [           main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a763ac5d-eb80-3dee-a3b7-d32de1af1cfa
2020-11-27 21:35:10.621  INFO [account-worker,,,] 24080 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
2020-11-27 21:35:10.625  INFO [account-worker,,,] 24080 --- [           main] faultConfiguringBeanFactoryPostProcessor : No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
2020-11-27 21:35:10.683  INFO [account-worker,,,] 24080 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.kafka.annotation.KafkaBootstrapConfiguration' of type [org.springframework.kafka.annotation.KafkaBootstrapConfiguration$$EnhancerBySpringCGLIB$$343530ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-27 21:35:10.751  INFO [account-worker,,,] 24080 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration' of type [org.springframework.statemachine.config.configuration.StateMachineAnnotationPostProcessorConfiguration$$EnhancerBySpringCGLIB$$bc173538] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-27 21:35:10.777  INFO [account-worker,,,] 24080 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'integrationDisposableAutoCreatedBeans' of type [org.springframework.integration.config.annotation.Disposables] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-27 21:35:10.827  INFO [account-worker,,,] 24080 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.hateoas.config.HateoasConfiguration' of type [org.springframework.hateoas.config.HateoasConfiguration$$EnhancerBySpringCGLIB$$e0036c69] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-27 21:35:10.889  INFO [account-worker,,,] 24080 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.integration.config.IntegrationManagementConfiguration' of type [org.springframework.integration.config.IntegrationManagementConfiguration$$EnhancerBySpringCGLIB$$cb74da66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-27 21:35:10.993  INFO [account-worker,,,] 24080 --- [           main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7c9d2234] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2020-11-27 21:35:15.666  WARN [account-worker,,,] 24080 --- [           main] o.s.c.k.KubernetesAutoConfiguration      : No namespace has been detected. Please specify KUBERNETES_NAMESPACE env var, or use a later kubernetes version (1.3 or later)
2020-11-27 21:35:19.943  INFO [account-worker,,,] 24080 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 2 endpoint(s) beneath base path '/actuator'
2020-11-27 21:35:20.360  INFO [account-worker,,,] 24080 --- [           main] o.s.c.s.m.DirectWithAttributesChannel    : Channel 'account-worker-1.input' has 1 subscriber(s).
2020-11-27 21:35:20.397  INFO [account-worker,,,] 24080 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-11-27 21:35:20.398  INFO [account-worker,,,] 24080 --- [           main] o.s.i.channel.PublishSubscribeChannel    : Channel 'account-worker-1.errorChannel' has 1 subscriber(s).
2020-11-27 21:35:20.398  INFO [account-worker,,,] 24080 --- [           main] o.s.i.endpoint.EventDrivenConsumer       : started _org.springframework.integration.errorLogger
2020-11-27 21:35:22.806  INFO [account-worker,,,] 24080 --- [           main] o.a.k.clients.admin.AdminClientConfig    : AdminClientConfig values: 
	bootstrap.servers = [mykafka-v1.default.svc.cluster.local:9092]
	client.id = 
	connections.max.idle.ms = 300000
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	receive.buffer.bytes = 65536
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 120000
	retries = 5
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS

2020-11-27 21:35:22.989  WARN [account-worker,,,] 24080 --- [           main] org.apache.kafka.clients.ClientUtils     : Removing server mykafka-v1.default.svc.cluster.local:9092 from bootstrap.servers as DNS resolution failed for mykafka-v1.default.svc.cluster.local
2020-11-27 21:35:23.006 ERROR [account-worker,,,] 24080 --- [           main] o.s.cloud.stream.binding.BindingService  : Failed to create consumer binding; retrying in 30 seconds

org.springframework.cloud.stream.binder.BinderException: Exception thrown while starting consumer: 
	at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindConsumer(AbstractMessageChannelBinder.java:402)
	at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindConsumer(AbstractMessageChannelBinder.java:93)
	at org.springframework.cloud.stream.binder.AbstractBinder.bindConsumer(AbstractBinder.java:132)
	at org.springframework.cloud.stream.binding.BindingService.doBindConsumer(BindingService.java:140)
	at org.springframework.cloud.stream.binding.BindingService.bindConsumer(BindingService.java:121)
	at org.springframework.cloud.stream.binding.BindableProxyFactory.createAndBindInputs(BindableProxyFactory.java:234)
	at org.springframework.cloud.stream.binding.InputBindingLifecycle.doStartWithBindable(InputBindingLifecycle.java:54)
	at java.util.LinkedHashMap$LinkedValues.forEach(LinkedHashMap.java:608)
	at org.springframework.cloud.stream.binding.AbstractBindingLifecycle.start(AbstractBindingLifecycle.java:47)
	at org.springframework.cloud.stream.binding.InputBindingLifecycle.start(InputBindingLifecycle.java:33)
	at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:182)
	at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:53)
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:360)
	at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:158)
	at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:122)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:893)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:552)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:744)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:391)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:312)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:120)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190)
	at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)
	at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)
Caused by: org.apache.kafka.common.KafkaException: Failed create new KafkaAdminClient
	at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:370)
	at org.apache.kafka.clients.admin.AdminClient.create(AdminClient.java:62)
	at org.springframework.cloud.stream.binder.kafka.provisioning.KafkaTopicProvisioner.createAdminClient(KafkaTopicProvisioner.java:216)
	at org.springframework.cloud.stream.binder.kafka.provisioning.KafkaTopicProvisioner.doProvisionConsumerDestination(KafkaTopicProvisioner.java:192)
	at org.springframework.cloud.stream.binder.kafka.provisioning.KafkaTopicProvisioner.provisionConsumerDestination(KafkaTopicProvisioner.java:160)
	at org.springframework.cloud.stream.binder.kafka.provisioning.KafkaTopicProvisioner.provisionConsumerDestination(KafkaTopicProvisioner.java:77)
	at org.springframework.cloud.stream.binder.AbstractMessageChannelBinder.doBindConsumer(AbstractMessageChannelBinder.java:347)
	... 49 common frames omitted
Caused by: org.apache.kafka.common.config.ConfigException: No resolvable bootstrap urls given in bootstrap.servers
	at org.apache.kafka.clients.ClientUtils.parseAndValidateAddresses(ClientUtils.java:66)
	at org.apache.kafka.clients.admin.KafkaAdminClient.<init>(KafkaAdminClient.java:409)
	at org.apache.kafka.clients.admin.KafkaAdminClient.createInternal(KafkaAdminClient.java:363)
	... 55 common frames omitted

2020-11-27 21:35:23.119  INFO [account-worker,,,] 24080 --- [           main] f.n.l.account.worker.MachineStatusTests  : Started MachineStatusTests in 16.859 seconds (JVM running for 53.905)
2020-11-27 21:35:23.287  INFO [account-worker,,,] 24080 --- [           main] o.s.s.support.LifecycleObjectSupport     : started org.springframework.statemachine.support.DefaultStateMachineExecutor@4a9d6eb9
2020-11-27 21:35:23.287  INFO [account-worker,,,] 24080 --- [           main] o.s.s.support.LifecycleObjectSupport     : started ACCOUNT_PENDING ACCOUNT_CONFIRMED ACCOUNT_ARCHIVED ACCOUNT_ACTIVE ACCOUNT_SUSPENDED ACCOUNT_CREATED  / ACCOUNT_CREATED / uuid=dc2ea785-1d5c-4517-b558-a6f437ee2a24 / id=437ff16d-18b5-4ebf-a0dd-308484724407
2020-11-27 21:35:23.301  INFO [account-worker,5fc1630b1ea5efd36e9c6d577afe06b6,6e9c6d577afe06b6,true] 24080 --- [           main] f.n.l.a.w.config.StateMachineConfig      : Replicate event: ACCOUNT_CREATED
2020-11-27 21:35:23.307  INFO [account-worker,5fc1630bfdb51de8334b43a3fc6fa261,334b43a3fc6fa261,true] 24080 --- [           main] f.n.l.a.w.config.StateMachineConfig      : Replicate event: ACCOUNT_CONFIRMED
2020-11-27 21:35:23.311  INFO [account-worker,,,] 24080 --- [           main] o.s.s.support.LifecycleObjectSupport     : stopped org.springframework.statemachine.support.DefaultStateMachineExecutor@4a9d6eb9
2020-11-27 21:35:23.313  INFO [account-worker,,,] 24080 --- [           main] o.s.s.support.LifecycleObjectSupport     : stopped ACCOUNT_PENDING ACCOUNT_CONFIRMED ACCOUNT_ARCHIVED ACCOUNT_ACTIVE ACCOUNT_SUSPENDED ACCOUNT_CREATED  /  / uuid=dc2ea785-1d5c-4517-b558-a6f437ee2a24 / id=437ff16d-18b5-4ebf-a0dd-308484724407
2020-11-27 21:35:23.390  INFO [account-worker,,,] 24080 --- [       Thread-5] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-11-27 21:35:23.393  INFO [account-worker,,,] 24080 --- [       Thread-5] o.s.i.channel.PublishSubscribeChannel    : Channel 'account-worker-1.errorChannel' has 0 subscriber(s).
2020-11-27 21:35:23.394  INFO [account-worker,,,] 24080 --- [       Thread-5] o.s.i.endpoint.EventDrivenConsumer       : stopped _org.springframework.integration.errorLogger
2020-11-27 21:35:23.396  INFO [account-worker,,,] 24080 --- [      Thread-12] o.s.i.endpoint.EventDrivenConsumer       : Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
2020-11-27 21:35:23.397  INFO [account-worker,,,] 24080 --- [      Thread-12] o.s.i.channel.PublishSubscribeChannel    : Channel 'account-worker-1.errorChannel' has 0 subscriber(s).
2020-11-27 21:35:23.397  INFO [account-worker,,,] 24080 --- [      Thread-12] o.s.i.endpoint.EventDrivenConsumer       : stopped _org.springframework.integration.errorLogger
